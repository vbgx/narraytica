# Use direnv to automatically load environment variables
# Requires: brew install direnv && direnv allow

# Load .env if present
dotenv_if_exists

# Default environment
export ENV=local
export LOG_LEVEL=debug

# Python (uv virtualenv auto-activation if present)
if [ -d ".venv" ]; then
  layout python
fi

# Node (optional: ensure local binaries available)
PATH_add node_modules/.bin

# Postgres
export POSTGRES_HOST=localhost
export POSTGRES_PORT=5432
export POSTGRES_DB=narralytica
export POSTGRES_USER=narralytica
export POSTGRES_PASSWORD=narralytica

# Redis
export REDIS_URL=redis://localhost:6379

# OpenSearch
export OPENSEARCH_URL=http://localhost:9200

# Qdrant
export QDRANT_URL=http://localhost:6333

# MinIO / S3
export S3_ENDPOINT=http://localhost:9000
export S3_ACCESS_KEY=minioadmin
export S3_SECRET_KEY=minioadmin
export S3_BUCKET=narralytica

# Prevent accidental production usage
export ALLOW_PRODUCTION=false
