{
  "index_patterns": ["narralytica-videos-*"],
  "template": {
    "settings": {
      "number_of_shards": 1,
      "number_of_replicas": 0,
      "refresh_interval": "1s"
    },
    "mappings": {
      "dynamic": "strict",
      "properties": {
        "video_id": { "type": "keyword" },
        "source": { "type": "keyword" },
        "source_id": { "type": "keyword" },

        "title": {
          "type": "text",
          "fields": { "keyword": { "type": "keyword", "ignore_above": 256 } }
        },
        "description": { "type": "text" },

        "language": { "type": "keyword" },
        "channel": { "type": "keyword" },

        "published_at": { "type": "date" },
        "ingested_at": { "type": "date" },

        "duration_seconds": { "type": "integer" },

        "has_transcript": { "type": "boolean" },
        "has_diarization": { "type": "boolean" },
        "has_embeddings": { "type": "boolean" }
      }
    }
  },
  "priority": 100,
  "version": 1,
  "_meta": {
    "owner": "narralytica",
    "doc": "Base template for video-level documents. Segment-level docs will live in another index later."
  }
}
