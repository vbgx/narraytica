## Issue 03.05 — Implement backend adapters in infra layer (OpenSearch/Qdrant)

Title: refactor(search): implement opensearch + qdrant adapters in infra (not in packages/)
Labels: refactor, search, adapters, anti-drift
Priority: P1 (after 03.01–03.04)

Objective

Provide concrete OpenSearch/Qdrant implementations of search ports without contaminating packages/ with IO.

Target layout

services/infra/search_adapters/
  opensearch.py
  qdrant.py
  templates/

Wiring
- services/api wires these adapters into search engine / use_case
- services/workers reuses same infra adapters

Scope
- Implement OpenSearchAdapter respecting LexicalSearchPort
- Implement QdrantAdapter respecting VectorSearchPort
- Centralize config via injection
- Unit tests for query building (pure)
- Optional integration tests behind env flag

DoD
- No direct OpenSearch/Qdrant client usage in routes
- Ports remain the only contract boundary
- Deterministic unit tests

Risks
- Config mismatch (mappings/analyzers)

Mitigation
- Versioned templates + idempotent bootstrap test (Issue 03.08)
